import{u as P,j as e,e as L,f,U as R,B as T,h as X,b as F,L as J,a as D,i as U}from"./index-W8rEzit0.js";import{a as $,u as q,r as o,L as j}from"./vendor-react-BjLkUuqo.js";import{A as B}from"./arrow-left-nWsHnGQq.js";import{L as N}from"./lock-BnNsxM_K.js";import{E as H}from"./eye-off-jTeYMF3i.js";import{E as _}from"./eye-CZXohEt8.js";import"./vendor-firebase-D6pLxh_h.js";const Y=({onExit:d})=>{const{addNotification:n}=P(),c=$();q();const m=c.state,[i,u]=o.useState(1),[p,h]=o.useState(!1),[v,k]=o.useState(!1),[x,y]=o.useState(!1),[w,C]=o.useState(""),[s,b]=o.useState({firstName:"",lastName:"",email:"",phone:"",dob:"",ssn:"",address:"",city:"",zip:"",employer:"",jobTitle:"",monthlyIncome:"",timeAtJob:"",creditAuth:!1}),l=a=>{const{name:t,value:I}=a.target;b(E=>({...E,[t]:I}))},g=a=>{const t=s;return a===1?t.firstName&&t.lastName&&t.email&&t.phone:a===2?t.address&&t.city&&t.zip&&t.employer&&t.monthlyIncome:a===3?t.dob&&t.ssn.length>=4&&t.creditAuth:!1},S=()=>{g(i)?u(a=>a+1):n("error","Por favor completa todos los campos requeridos.")},z=()=>u(a=>a-1),A=async()=>{if(!g(3)){n("error","Por favor completa la información de identidad.");return}h(!0);try{const a={...s,...m?{vehicleInfo:m.vehicle,quote:m.quote,type:"finance"}:{}};await U(a);const t=`REF-${Math.floor(Math.random()*1e6)}`;C(t),k(!0),n("success","Solicitud guardada correctamente en la base de datos.")}catch(a){console.error("Error submitting application:",a),n("error","Hubo un error al enviar la solicitud. Intenta nuevamente.")}finally{h(!1)}};return v?e.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 flex items-center justify-center p-6",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 p-12 rounded-[40px] shadow-2xl text-center max-w-lg w-full border border-slate-100 dark:border-slate-700 animate-in zoom-in duration-500",children:[e.jsx("div",{className:"w-24 h-24 bg-emerald-500/10 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(L,{size:48,className:"text-emerald-500"})}),e.jsx("h2",{className:"text-3xl font-black text-slate-800 dark:text-white uppercase tracking-tighter mb-4",children:"¡Pre-Aprobación Recibida!"}),e.jsxs("p",{className:"text-slate-500 dark:text-slate-400 mb-8 leading-relaxed",children:["Tus datos han sido procesados y guardados exitosamente en el sistema seguro. Un oficial de finanzas de Richard Automotive te contactará al ",e.jsx("strong",{children:s.phone}),"."]}),e.jsxs("div",{className:"bg-slate-100 dark:bg-slate-700/50 p-4 rounded-xl mb-8",children:[e.jsx("p",{className:"text-xs uppercase font-bold text-slate-400 tracking-widest mb-1",children:"Número de Referencia"}),e.jsx("p",{className:"text-xl font-mono font-bold text-[#00aed9]",children:w})]}),e.jsx("button",{onClick:d,className:"w-full py-4 bg-[#173d57] hover:bg-[#00aed9] text-white rounded-2xl font-bold uppercase tracking-widest transition-all shadow-lg",children:"Volver a la Tienda"})]})}):e.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 flex flex-col",children:[e.jsxs("div",{className:"bg-[#173d57] text-white p-6 shadow-md z-10 flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:d,className:"p-2 hover:bg-white/10 rounded-full transition-colors",children:e.jsx(B,{})}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-xl font-black uppercase tracking-tight flex items-center gap-2",children:[e.jsx(f,{className:"text-emerald-400"})," Solicitud Segura"]}),e.jsxs("p",{className:"text-xs text-slate-400 font-mono flex items-center gap-1",children:[e.jsx(N,{size:10})," 256-bit SSL Encrypted Connection"]})]})]}),e.jsx("div",{className:"hidden md:block",children:e.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold bg-white/10 px-4 py-2 rounded-full",children:[e.jsx("div",{className:"w-2 h-2 bg-emerald-400 rounded-full animate-pulse"}),"Servidor Seguro Activo"]})})]}),e.jsx("main",{className:"flex-1 flex justify-center p-4 md:p-10 overflow-y-auto",children:e.jsxs("div",{className:"w-full max-w-4xl",children:[e.jsxs("div",{className:"mb-10 flex justify-between items-center relative",children:[e.jsx("div",{className:"absolute top-1/2 left-0 w-full h-1 bg-slate-200 dark:bg-slate-800 -z-10 rounded-full"}),e.jsx("div",{className:"absolute top-1/2 left-0 h-1 bg-[#00aed9] -z-10 rounded-full transition-all duration-500",style:{width:`${(i-1)/2*100}%`}}),[1,2,3].map(a=>e.jsxs("div",{className:`flex flex-col items-center gap-2 transition-all ${i>=a?"opacity-100":"opacity-50"}`,children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold border-4 transition-all ${i>=a?"bg-[#173d57] border-[#00aed9] text-white shadow-lg shadow-cyan-500/30":"bg-slate-200 dark:bg-slate-800 border-slate-300 dark:border-slate-700 text-slate-500"}`,children:a}),e.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest hidden md:block text-slate-500 dark:text-slate-400",children:a===1?"Contacto":a===2?"Ingresos":"Identidad"})]},a))]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-[40px] shadow-xl border border-slate-100 dark:border-slate-700 p-8 md:p-12 animate-in fade-in slide-in-from-bottom-5",children:[i===1&&e.jsxs("div",{className:"space-y-6 animate-in fade-in",children:[e.jsxs("h2",{className:"text-2xl font-black text-slate-800 dark:text-white uppercase tracking-tight mb-6 flex items-center gap-3",children:[e.jsx(R,{className:"text-[#00aed9]"})," Información Personal"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(r,{label:"Nombre(s)",name:"firstName",value:s.firstName,onChange:l,placeholder:"Ej. Juan"}),e.jsx(r,{label:"Apellidos",name:"lastName",value:s.lastName,onChange:l,placeholder:"Ej. Del Pueblo"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(r,{label:"Teléfono Celular",name:"phone",type:"tel",value:s.phone,onChange:l,placeholder:"(787) 000-0000"}),e.jsx(r,{label:"Correo Electrónico",name:"email",type:"email",value:s.email,onChange:l,placeholder:"ejemplo@email.com"})]})]}),i===2&&e.jsxs("div",{className:"space-y-6 animate-in fade-in",children:[e.jsxs("h2",{className:"text-2xl font-black text-slate-800 dark:text-white uppercase tracking-tight mb-6 flex items-center gap-3",children:[e.jsx(T,{className:"text-[#00aed9]"})," Empleo e Ingresos"]}),e.jsx(r,{label:"Dirección Residencial",name:"address",value:s.address,onChange:l,placeholder:"Calle, Número, Urb..."}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsx(r,{label:"Ciudad",name:"city",value:s.city,onChange:l,placeholder:"San Juan"}),e.jsx(r,{label:"Código Postal",name:"zip",value:s.zip,onChange:l,placeholder:"009..."})]}),e.jsx("div",{className:"border-t border-slate-100 dark:border-slate-700 my-6"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(r,{label:"Patrono Actual",name:"employer",value:s.employer,onChange:l,placeholder:"Nombre de la empresa"}),e.jsx(r,{label:"Puesto / Título",name:"jobTitle",value:s.jobTitle,onChange:l,placeholder:"Ej. Gerente"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(r,{label:"Ingreso Mensual Bruto ($)",name:"monthlyIncome",type:"number",value:s.monthlyIncome,onChange:l,placeholder:"0.00",icon:e.jsx(X,{size:16})}),e.jsx(r,{label:"Tiempo en empleo",name:"timeAtJob",value:s.timeAtJob,onChange:l,placeholder:"Ej. 2 años"})]})]}),i===3&&e.jsxs("div",{className:"space-y-6 animate-in fade-in",children:[e.jsxs("h2",{className:"text-2xl font-black text-slate-800 dark:text-white uppercase tracking-tight mb-6 flex items-center gap-3",children:[e.jsx(N,{className:"text-[#00aed9]"})," Identidad Segura"]}),e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-100 dark:border-blue-800 p-4 rounded-2xl flex gap-3 mb-6",children:[e.jsx(f,{className:"text-blue-500 shrink-0"}),e.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-300 leading-relaxed",children:"Esta información es encriptada y utilizada únicamente para obtener tu reporte de crédito preliminar. No almacenamos tu Seguro Social completo en servidores públicos."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(r,{label:"Fecha de Nacimiento",name:"dob",type:"date",value:s.dob,onChange:l,icon:e.jsx(F,{size:16})}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2 flex items-center gap-1",children:["Seguro Social (SSN) ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:x?"text":"password",name:"ssn",value:s.ssn,onChange:l,placeholder:"XXX-XX-XXXX",className:"w-full px-5 py-4 bg-slate-100 dark:bg-slate-700 dark:text-white border-2 border-transparent rounded-[20px] focus:ring-4 focus:ring-[#00aed9]/20 text-lg font-bold outline-none transition-all placeholder:text-slate-300 tracking-widest"}),e.jsx("button",{type:"button",onClick:()=>y(!x),className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-400 hover:text-[#00aed9]",children:x?e.jsx(H,{size:20}):e.jsx(_,{size:20})})]})]})]}),e.jsxs("div",{className:"mt-6 p-4 bg-slate-100 dark:bg-slate-700/50 rounded-2xl border border-slate-200 dark:border-slate-600",children:[e.jsxs("p",{className:"text-[10px] text-slate-500 dark:text-slate-400 mb-4 leading-relaxed text-justify",children:['"Acepto y autorizo expresamente a Richard Automotive a consultar mi reporte de crédito e historial financiero a través de las agencias de información crediticia autorizadas. Entiendo que esta consulta se realiza bajo los términos de la Ley de Informes de Crédito Justos (FCRA) y será utilizada exclusivamente para evaluar mi perfil financiero en relación con mi solicitud. He leído y acepto el ',e.jsx(j,{to:"/privacidad",target:"_blank",className:"underline hover:text-[#00aed9]",children:"Aviso de Privacidad"})," y los ",e.jsx(j,{to:"/terminos",target:"_blank",className:"underline hover:text-[#00aed9]",children:"Términos de Uso"}),'."']}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("input",{type:"checkbox",id:"autoriza_credito",name:"creditAuth",checked:s.creditAuth,onChange:a=>b(t=>({...t,creditAuth:a.target.checked})),className:"mt-1 w-5 h-5 rounded-md border-slate-300 text-[#00aed9] focus:ring-[#00aed9] cursor-pointer"}),e.jsxs("label",{htmlFor:"autoriza_credito",className:"text-xs font-bold text-slate-700 dark:text-slate-300 cursor-pointer select-none",children:["He leído y acepto la ",e.jsx("span",{className:"text-[#00aed9] underline",children:"Autorización para Consulta de Historial Crediticio"}),"."]})]})]})]}),e.jsxs("div",{className:"mt-12 flex justify-between items-center pt-8 border-t border-slate-100 dark:border-slate-700",children:[i>1?e.jsx("button",{onClick:z,className:"px-6 py-3 rounded-xl text-slate-500 font-bold hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:"Atrás"}):e.jsx("div",{}),e.jsx("button",{onClick:i===3?A:S,disabled:p,className:"px-10 py-4 bg-[#00aed9] hover:bg-cyan-500 text-white rounded-2xl font-black text-sm uppercase tracking-widest shadow-xl shadow-cyan-500/30 hover:scale-105 active:scale-95 transition-all flex items-center gap-2",children:p?e.jsxs(e.Fragment,{children:[" ",e.jsx(J,{className:"animate-spin"})," Procesando... "]}):i===3?"Enviar Solicitud Segura":e.jsxs(e.Fragment,{children:["Siguiente ",e.jsx(D,{size:18})]})})]})]})]})})]})},r=({label:d,icon:n,...c})=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2 flex items-center gap-1",children:[n," ",d," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{...c,className:"w-full px-5 py-4 bg-slate-100 dark:bg-slate-700 dark:text-white border-2 border-transparent rounded-[20px] focus:ring-4 focus:ring-[#00aed9]/20 text-lg font-bold outline-none transition-all placeholder:text-slate-300"})]});export{Y as default};
