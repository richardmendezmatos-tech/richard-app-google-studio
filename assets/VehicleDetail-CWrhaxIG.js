import{c as w,u as j,r as x,R as N,j as e,J as k,K as y,M as C,O as P,P as S,Q as z,L,i as M,S as I,d as $,Z as R}from"./index-BlS9cgq_.js";import{T}from"./trending-up-IjGK3and.js";import{m as E}from"./proxy-D4P4w9Jr.js";const f=w("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),A=(i,l,d,t,c=0)=>{const o={excellent:4.9,good:7.5,fair:11.9,poor:18.9}[t],n=o/100/12,a=Math.max(0,i+495-l-c);if(a===0)return{monthlyPayment:0,totalInterest:0,totalCost:0,aprUsed:o};const g=Math.pow(1+n,d),m=a*g*n/(g-1),h=m*d,b=h-a;return{monthlyPayment:Math.round(m),totalInterest:Math.round(b),totalCost:Math.round(h),aprUsed:o}},D=i=>{switch(i){case"excellent":return"Excelente (720+)";case"good":return"Bueno (660-719)";case"fair":return"Regular (600-659)";case"poor":return"En Construcción (<600)"}},q=({vehicleId:i,vehiclePrice:l,vehicleName:d,vehicleImage:t})=>{const c=j(),[r,o]=x.useState(Math.round(l*.1)),[n,p]=x.useState(72),[a,g]=x.useState("good"),m=N.useMemo(()=>A(l,r,n,a).monthlyPayment,[l,r,n,a]),h=Math.min(100,Math.round(r/l*50+(a==="excellent"?50:a==="good"?35:a==="fair"?20:0))),u=(s=>s>80?{text:"¡Aprobación Inmediata!",color:"text-emerald-400",bg:"bg-emerald-500"}:s>50?{text:"Muy Probable",color:"text-[#00aed9]",bg:"bg-[#00aed9]"}:{text:"Requiere Revisión",color:"text-amber-400",bg:"bg-amber-500"})(h),v=()=>{c("/qualify",{state:{vehicle:{id:i,name:d,price:l,image:t},quote:{monthlyPayment:m,downPayment:r,term:n,creditTier:a}}})};return e.jsxs("div",{className:"bg-slate-900 border border-slate-700/50 rounded-3xl p-6 lg:p-8 shadow-2xl relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 p-12 opacity-5 pointer-events-none text-[#00aed9]",children:e.jsx(k,{size:200})}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-emerald-500/20 flex items-center justify-center text-emerald-400",children:e.jsx(T,{size:20})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-black text-white",children:"Diseña tu Trato"}),e.jsx("p",{className:"text-slate-400 text-xs",children:"Personaliza tu plan sin compromiso."})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-slate-800 to-slate-900 rounded-2xl p-6 mb-8 text-center border border-slate-700 shadow-inner relative group",children:[e.jsx("p",{className:"text-slate-400 text-sm font-bold uppercase tracking-widest mb-2",children:"Tu Mensualidad Estimada"}),e.jsxs("div",{className:"flex items-start justify-center gap-1 text-white",children:[e.jsx("span",{className:"text-2xl mt-2 font-bold opacity-50",children:"$"}),e.jsx("span",{className:"text-6xl md:text-7xl font-black tracking-tighter shadow-emerald-500/50 drop-shadow-sm",children:m.toLocaleString()})]}),e.jsx("p",{className:"text-xs text-slate-500 mt-2",children:"*Impuestos y tasas no incluidos. Sujeto a aprobación."}),e.jsx("div",{className:"absolute top-4 right-4 group-hover:opacity-100 opacity-0 transition-opacity",children:e.jsxs("div",{className:"bg-slate-800 text-[10px] p-2 rounded border border-slate-600 shadow-xl max-w-[150px] text-left",children:[e.jsx(y,{size:10,className:"inline mr-1 mb-0.5"}),"Tu tasa personalizada está calculada internamente basada en tu perfil."]})})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm font-bold text-slate-300 mb-3",children:[e.jsx("label",{children:"Pago Inicial (Down Payment)"}),e.jsxs("span",{className:"text-[#00aed9]",children:["$",r.toLocaleString()]})]}),e.jsx("input",{type:"range",min:"0",max:l*.5,step:"500",value:r,onChange:s=>o(Number(s.target.value)),className:"w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-[#00aed9]"}),e.jsxs("div",{className:"flex justify-between text-[10px] text-slate-500 mt-1 uppercase font-bold tracking-wider",children:[e.jsx("span",{children:"$0"}),e.jsxs("span",{children:["$",(l*.5).toLocaleString()]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-300 mb-3",children:"Tu Historial de Crédito"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:["excellent","good","fair","poor"].map(s=>e.jsx("button",{onClick:()=>g(s),className:`px-3 py-3 rounded-xl text-xs font-bold border transition-all
                                        ${a===s?"bg-white text-slate-900 border-white shadow-lg":"bg-slate-800 text-slate-400 border-slate-700 hover:border-slate-500"}`,children:D(s)},s))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-300 mb-3",children:"Plazo (Meses)"}),e.jsx("div",{className:"flex bg-slate-800 p-1 rounded-xl",children:[48,60,72,84].map(s=>e.jsx("button",{onClick:()=>p(s),className:`flex-1 py-2 rounded-lg text-xs font-black transition-all ${n===s?"bg-[#00aed9] text-white shadow-md":"text-slate-400 hover:text-white"}`,children:s},s))})]})]}),e.jsxs("div",{className:"mt-10 pt-8 border-t border-slate-700",children:[e.jsxs("div",{className:"flex justify-between items-end mb-2",children:[e.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:"Poder de Compra"}),e.jsx("span",{className:`text-sm font-black ${u.color}`,children:u.text})]}),e.jsx("div",{className:"h-3 bg-slate-800 rounded-full overflow-hidden",children:e.jsx(E.div,{className:`h-full ${u.bg}`,initial:{width:0},animate:{width:`${h}%`},transition:{type:"spring",stiffness:50}})})]}),e.jsx("div",{className:"mt-8 flex gap-3",children:e.jsxs("button",{onClick:v,className:"flex-1 bg-emerald-500 hover:bg-emerald-400 text-white font-black uppercase tracking-widest text-xs py-4 rounded-xl shadow-lg shadow-emerald-900/20 transition-all flex items-center justify-center gap-2",children:[e.jsx(C,{size:16})," Pre-Aprobarme Ahora"]})})]})]})},F=({inventory:i})=>{const{id:l}=P(),d=j(),t=N.useMemo(()=>!l||i.length===0?null:i.find(a=>a.id===l)||null,[l,i]),[c,r]=x.useState(""),[o,n]=x.useState(!1);if(x.useEffect(()=>{t&&S(t.id)},[t?.id]),x.useEffect(()=>{t&&!c&&!o&&(n(!0),z(t).then(a=>r(a)).catch(a=>r(`Error: ${a.message}`)).finally(()=>n(!1)))},[t,c,o]),!t)return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 dark:bg-slate-900",children:e.jsx(L,{className:"w-10 h-10 text-[#00aed9] animate-spin"})});const p=async()=>{if(navigator.share)try{await navigator.share({title:t.name,text:`Mira este ${t.name} en Richard Automotive`,url:window.location.href})}catch{}else alert("Enlace copiado al portapapeles")};return e.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-950 pb-20 pt-20 lg:pt-0",children:[e.jsxs("div",{className:"fixed top-0 left-0 right-0 bg-white/80 dark:bg-slate-900/80 backdrop-blur-md p-4 z-40 flex justify-between items-center lg:hidden border-b border-slate-200 dark:border-slate-800",children:[e.jsx("button",{onClick:()=>d(-1),className:"p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors",children:e.jsx(f,{className:"text-slate-800 dark:text-white"})}),e.jsx("span",{className:"font-bold text-slate-800 dark:text-white text-sm truncate max-w-[200px]",children:t.name}),e.jsx("button",{onClick:p,className:"p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors",children:e.jsx(M,{className:"text-slate-800 dark:text-white",size:20})})]}),e.jsx("div",{className:"hidden lg:block max-w-7xl mx-auto px-8 py-6",children:e.jsxs("button",{onClick:()=>d("/"),className:"flex items-center gap-2 text-slate-500 hover:text-[#00aed9] font-bold transition-colors",children:[e.jsx(f,{size:20})," Volver al Inventario"]})}),e.jsxs("main",{className:"max-w-7xl mx-auto px-4 lg:px-8 grid grid-cols-1 lg:grid-cols-2 gap-12",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"aspect-[4/3] bg-white dark:bg-slate-900 rounded-[40px] shadow-xl overflow-hidden relative group",children:[e.jsx("div",{className:"absolute top-6 left-6 z-20 flex flex-col gap-2",children:t.badge&&e.jsx("span",{className:"bg-[#00aed9] text-white px-4 py-1.5 rounded-full text-xs font-black uppercase tracking-widest shadow-lg",children:t.badge})}),e.jsx("img",{src:t.img,alt:t.name,className:"w-full h-full object-contain p-8 group-hover:scale-105 transition-transform duration-700"}),e.jsx("div",{className:"absolute inset-0 pointer-events-none bg-gradient-to-t from-slate-900/20 to-transparent"})]}),e.jsxs("div",{className:"bg-[#00aed9]/5 border border-[#00aed9]/20 rounded-[30px] p-6 lg:p-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(I,{className:"text-[#00aed9]"}),e.jsx("h3",{className:"font-black text-[#173d57] dark:text-cyan-400 uppercase tracking-widest text-sm",children:"Richard's AI Insight"})]}),o?e.jsx("div",{className:"h-20 flex items-center justify-center text-[#00aed9] animate-pulse font-bold text-sm uppercase tracking-widest",children:"Analizando auto..."}):e.jsx("div",{className:"prose prose-sm dark:prose-invert text-slate-600 dark:text-slate-300 leading-relaxed",dangerouslySetInnerHTML:{__html:(c||"").replace(/\*\*(.*?)\*\*/g,'<strong class="text-[#00aed9]">$1</strong>').replace(/\n/g,"<br/>")}})]})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsxs("span",{className:"text-[#00aed9] font-black uppercase tracking-[0.2em] text-xs",children:[t.type," • 2025"]}),e.jsx("h1",{className:"text-4xl lg:text-5xl font-black text-slate-900 dark:text-white tracking-tighter mt-2 leading-none",children:t.name}),e.jsxs("div",{className:"mt-4 flex items-baseline gap-4",children:[e.jsxs("span",{className:"text-3xl font-bold text-slate-700 dark:text-slate-200",children:["$",t.price.toLocaleString()]}),e.jsx("span",{className:"text-sm text-green-500 font-bold bg-green-500/10 px-3 py-1 rounded-full",children:"Precio Online"})]})]}),e.jsxs("div",{className:"flex gap-4 overflow-x-auto pb-2 scrollbar-hide",children:[e.jsxs("div",{className:"flex items-center gap-2 bg-slate-100 dark:bg-slate-800 px-4 py-2 rounded-full text-xs font-bold text-slate-600 dark:text-slate-300 whitespace-nowrap",children:[e.jsx($,{size:16,className:"text-emerald-500"})," Garantía Incluida"]}),e.jsxs("div",{className:"flex items-center gap-2 bg-slate-100 dark:bg-slate-800 px-4 py-2 rounded-full text-xs font-bold text-slate-600 dark:text-slate-300 whitespace-nowrap",children:[e.jsx(R,{size:16,className:"text-amber-500"})," Entrega Rápida"]})]}),e.jsx("div",{className:"h-px bg-slate-200 dark:bg-slate-800"}),e.jsx(q,{vehicleId:t.id,vehiclePrice:t.price,vehicleName:t.name,vehicleImage:t.img})]})]})]})};export{F as default};
