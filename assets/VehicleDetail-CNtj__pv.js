import{d as k,ab as f,j as e,ac as C,ae as S,v as I,w as $,af as P,Q as T,ag as R,ah as A,L,c as _,S as z,f as M,Z as E}from"./index-Y1hSRJUR.js";import{u as y,r as h,R as D,b as U}from"./vendor-react-BjLkUuqo.js";import{c as O,d as q,e as j,f as F,u as B,i as H}from"./vendor-firebase-D6pLxh_h.js";import{T as V}from"./trending-up-I-AzIbKF.js";const v=k("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),w=async s=>{try{const a=O(f,"proprietary_intent_data");await q(a,{...s,timestamp:j()});const i=localStorage.getItem("current_lead_id");if(i){const o=F(f,"leads",i);await B(o,{intentScore:H(G(s.eventType)),lastActivity:j()})}}catch(a){console.warn("Moat Tracking Silently Failed (Non-blocking):",a)}},G=s=>{switch(s){case"finance_calc":return 15;case"gallery_open":return 5;case"specification_read":return 10;case"engaged_time":return 2;default:return 1}},Q=(s,a,i,o,p=0)=>{const d={excellent:4.9,good:7.5,fair:11.9,poor:18.9}[o],r=d/100/12,l=Math.max(0,s+495-a-p);if(l===0)return{monthlyPayment:0,totalInterest:0,totalCost:0,aprUsed:d};const t=Math.pow(1+r,i),g=l*t*r/(t-1),u=g*i,x=u-l;return{monthlyPayment:Math.round(g),totalInterest:Math.round(x),totalCost:Math.round(u),aprUsed:d}},Z=s=>{switch(s){case"excellent":return"Excelente (720+)";case"good":return"Bueno (660-719)";case"fair":return"Regular (600-659)";case"poor":return"En Construcción (<600)"}},J=({vehicleId:s,vehiclePrice:a,vehicleName:i,vehicleImage:o})=>{const p=y(),[c,d]=h.useState(Math.round(a*.1)),[r,m]=h.useState(72),[l,t]=h.useState("good"),g=D.useMemo(()=>Q(a,c,r,l).monthlyPayment,[a,c,r,l]),u=Math.min(100,Math.round(c/a*50+(l==="excellent"?50:l==="good"?35:l==="fair"?20:0))),b=(n=>n>80?{text:"¡Aprobación Inmediata!",color:"text-emerald-400",bg:"bg-emerald-500"}:n>50?{text:"Muy Probable",color:"text-[#00aed9]",bg:"bg-[#00aed9]"}:{text:"Requiere Revisión",color:"text-amber-400",bg:"bg-amber-500"})(u),N=()=>{p("/qualify",{state:{vehicle:{id:s,name:i,price:a,image:o},quote:{monthlyPayment:g,downPayment:c,term:r,creditTier:l}}})};return e.jsxs("div",{className:"bg-slate-900 border border-slate-700/50 rounded-3xl p-6 lg:p-8 shadow-2xl relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 p-12 opacity-5 pointer-events-none text-[#00aed9]",children:e.jsx(C,{size:200})}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-emerald-500/20 flex items-center justify-center text-emerald-400",children:e.jsx(V,{size:20})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-black text-white",children:"Diseña tu Trato"}),e.jsx("p",{className:"text-slate-400 text-xs",children:"Personaliza tu plan sin compromiso."})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-slate-800 to-slate-900 rounded-2xl p-6 mb-8 text-center border border-slate-700 shadow-inner relative group",children:[e.jsx("p",{className:"text-slate-400 text-sm font-bold uppercase tracking-widest mb-2",children:"Tu Mensualidad Estimada"}),e.jsxs("div",{className:"flex items-start justify-center gap-1 text-white",children:[e.jsx("span",{className:"text-2xl mt-2 font-bold opacity-50",children:"$"}),e.jsx("span",{className:"text-6xl md:text-7xl font-black tracking-tighter shadow-emerald-500/50 drop-shadow-sm",children:g.toLocaleString()})]}),e.jsx("p",{className:"text-xs text-slate-500 mt-2",children:"*Impuestos y tasas no incluidos. Sujeto a aprobación."}),e.jsx("div",{className:"absolute top-4 right-4 group-hover:opacity-100 opacity-0 transition-opacity",children:e.jsxs("div",{className:"bg-slate-800 text-[10px] p-2 rounded border border-slate-600 shadow-xl max-w-[150px] text-left",children:[e.jsx(S,{size:10,className:"inline mr-1 mb-0.5"}),"Tu tasa personalizada está calculada internamente basada en tu perfil."]})})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm font-bold text-slate-300 mb-3",children:[e.jsx("label",{children:"Pago Inicial (Down Payment)"}),e.jsxs("span",{className:"text-[#00aed9]",children:["$",c.toLocaleString()]})]}),e.jsx("input",{type:"range",min:"0",max:a*.5,step:"500",value:c,onChange:n=>d(Number(n.target.value)),className:"w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-[#00aed9]"}),e.jsxs("div",{className:"flex justify-between text-[10px] text-slate-500 mt-1 uppercase font-bold tracking-wider",children:[e.jsx("span",{children:"$0"}),e.jsxs("span",{children:["$",(a*.5).toLocaleString()]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-300 mb-3",children:"Tu Historial de Crédito"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:["excellent","good","fair","poor"].map(n=>e.jsx("button",{onClick:()=>t(n),className:`px-3 py-3 rounded-xl text-xs font-bold border transition-all
                                        ${l===n?"bg-white text-slate-900 border-white shadow-lg":"bg-slate-800 text-slate-400 border-slate-700 hover:border-slate-500"}`,children:Z(n)},n))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-300 mb-3",children:"Plazo (Meses)"}),e.jsx("div",{className:"flex bg-slate-800 p-1 rounded-xl",children:[48,60,72,84].map(n=>e.jsx("button",{onClick:()=>m(n),className:`flex-1 py-2 rounded-lg text-xs font-black transition-all ${r===n?"bg-[#00aed9] text-white shadow-md":"text-slate-400 hover:text-white"}`,children:n},n))})]})]}),e.jsxs("div",{className:"mt-10 pt-8 border-t border-slate-700",children:[e.jsxs("div",{className:"flex justify-between items-end mb-2",children:[e.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:"Poder de Compra"}),e.jsx("span",{className:`text-sm font-black ${b.color}`,children:b.text})]}),e.jsx("div",{className:"h-3 bg-slate-800 rounded-full overflow-hidden",children:e.jsx(I.div,{className:`h-full ${b.bg}`,initial:{width:0},animate:{width:`${u}%`},transition:{type:"spring",stiffness:50}})})]}),e.jsx("div",{className:"mt-8 flex gap-3",children:e.jsxs("button",{onClick:N,className:"flex-1 bg-emerald-500 hover:bg-emerald-400 text-white font-black uppercase tracking-widest text-xs py-4 rounded-xl shadow-lg shadow-emerald-900/20 transition-all flex items-center justify-center gap-2",children:[e.jsx($,{size:16})," Pre-Aprobarme Ahora"]})})]})]})},W=({title:s="Richard Automotive | 2026 AI Command Center",description:a="Don't just buy a car. Upgrade your lifestyle. Access our AI Command Center now.",image:i="https://images.unsplash.com/photo-1617788138017-80ad40651399?q=80&w=1200&auto=format&fit=crop",url:o,type:p="website",schema:c})=>{const d="https://richard-automotive.web.app",r=o?`${d}${o}`:d,m=s.includes("Richard Automotive")?s:`${s} | Richard Automotive`;return e.jsxs(P,{children:[e.jsx("title",{children:m}),e.jsx("meta",{name:"description",content:a}),e.jsx("link",{rel:"canonical",href:r}),e.jsx("meta",{property:"og:type",content:p}),e.jsx("meta",{property:"og:url",content:r}),e.jsx("meta",{property:"og:title",content:m}),e.jsx("meta",{property:"og:description",content:a}),e.jsx("meta",{property:"og:image",content:i}),e.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),e.jsx("meta",{name:"twitter:url",content:r}),e.jsx("meta",{name:"twitter:title",content:m}),e.jsx("meta",{name:"twitter:description",content:a}),e.jsx("meta",{name:"twitter:image",content:i}),c&&e.jsx("script",{type:"application/ld+json",children:JSON.stringify(c)})]})},te=({inventory:s})=>{const{id:a}=U(),i=y(),{currentDealer:o}=T(),[p,c]=h.useState(0),[d,r]=h.useState(null),[m,l]=h.useState(!1),t=s.find(x=>x.id===a);h.useEffect(()=>{t&&R(t.id)},[t?.id]),h.useEffect(()=>{if(!t)return;const x=setInterval(()=>c(b=>b+1),5e3);return()=>{p>0&&w({carId:a||"unknown",dealerId:o.id,eventType:"engaged_time",value:p,sessionId:sessionStorage.getItem("session_id")||"anon"}),clearInterval(x)}},[p,t,a,o.id]);const g=()=>{w({carId:a||"unknown",dealerId:o.id,eventType:"gallery_open",sessionId:sessionStorage.getItem("session_id")||"anon"})};if(h.useEffect(()=>{t&&!d&&!m&&(l(!0),A(t).then(x=>r(x)).catch(x=>r(`Error: ${x.message}`)).finally(()=>l(!1)))},[t,d,m]),!t)return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 dark:bg-slate-900",children:e.jsx(L,{className:"w-10 h-10 text-[#00aed9] animate-spin"})});const u=async()=>{if(navigator.share)try{await navigator.share({title:t.name,text:`Mira este ${t.name} en Richard Automotive`,url:window.location.href})}catch{}else alert("Enlace copiado al portapapeles")};return e.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-950 pb-20 pt-20 lg:pt-0",children:[e.jsx(W,{title:t.name,description:`Compra este ${t.name} 2026 por $${t.price.toLocaleString()}. Financiamiento disponible, garantía incluida y entrega rápida en Puerto Rico.`,image:t.img,url:`/vehicle/${t.id}`,type:"product",schema:{"@context":"https://schema.org/","@type":"Car",name:t.name,image:t.img,description:`Compra este ${t.name} 2026 en Richard Automotive.`,brand:{"@type":"Brand",name:t.name.split(" ")[0]},offers:{"@type":"Offer",url:`https://richard-automotive.web.app/vehicle/${t.id}`,priceCurrency:"USD",price:t.price,itemCondition:"https://schema.org/NewCondition",availability:"https://schema.org/InStock"}}}),e.jsxs("div",{className:"fixed top-0 left-0 right-0 bg-white/80 dark:bg-slate-900/80 backdrop-blur-md p-4 z-40 flex justify-between items-center lg:hidden border-b border-slate-200 dark:border-slate-800",children:[e.jsx("button",{onClick:()=>i(-1),className:"p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors",children:e.jsx(v,{className:"text-slate-800 dark:text-white"})}),e.jsx("span",{className:"font-bold text-slate-800 dark:text-white text-sm truncate max-w-[200px]",children:t.name}),e.jsx("button",{onClick:u,className:"p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors",children:e.jsx(_,{className:"text-slate-800 dark:text-white",size:20})})]}),e.jsx("div",{className:"hidden lg:block max-w-7xl mx-auto px-8 py-6",children:e.jsxs("button",{onClick:()=>i("/"),className:"flex items-center gap-2 text-slate-500 hover:text-[#00aed9] font-bold transition-colors",children:[e.jsx(v,{size:20})," Volver al Inventario"]})}),e.jsxs("main",{className:"max-w-7xl mx-auto px-4 lg:px-8 grid grid-cols-1 lg:grid-cols-2 gap-12",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{onClick:g,className:"aspect-[4/3] bg-white dark:bg-slate-900 rounded-[40px] shadow-xl overflow-hidden relative group cursor-pointer",children:[e.jsx("div",{className:"absolute top-6 left-6 z-20 flex flex-col gap-2",children:t.badge&&e.jsx("span",{className:"bg-[#00aed9] text-white px-4 py-1.5 rounded-full text-xs font-black uppercase tracking-widest shadow-lg",children:t.badge})}),e.jsx("img",{src:t.img,alt:t.name,className:"w-full h-full object-contain p-8 group-hover:scale-105 transition-transform duration-700"}),e.jsx("div",{className:"absolute inset-0 pointer-events-none bg-gradient-to-t from-slate-900/20 to-transparent"})]}),e.jsxs("div",{className:"bg-[#00aed9]/5 border border-[#00aed9]/20 rounded-[30px] p-6 lg:p-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(z,{className:"text-[#00aed9]"}),e.jsx("h3",{className:"font-black text-[#173d57] dark:text-cyan-400 uppercase tracking-widest text-sm",children:"Richard's AI Insight"})]}),m?e.jsx("div",{className:"h-20 flex items-center justify-center text-[#00aed9] animate-pulse font-bold text-sm uppercase tracking-widest",children:"Analizando auto..."}):e.jsx("div",{className:"prose prose-sm dark:prose-invert text-slate-600 dark:text-slate-300 leading-relaxed",dangerouslySetInnerHTML:{__html:(d||"").replace(/\*\*(.*?)\*\*/g,'<strong class="text-[#00aed9]">$1</strong>').replace(/\n/g,"<br/>")}})]})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsxs("span",{className:"text-[#00aed9] font-black uppercase tracking-[0.2em] text-xs",children:[t.type," • 2025"]}),e.jsx("h1",{className:"text-4xl lg:text-5xl font-black text-slate-900 dark:text-white tracking-tighter mt-2 leading-none",children:t.name}),e.jsxs("div",{className:"mt-4 flex items-baseline gap-4",children:[e.jsxs("span",{className:"text-3xl font-bold text-slate-700 dark:text-slate-200",children:["$",t.price.toLocaleString()]}),e.jsx("span",{className:"text-sm text-green-500 font-bold bg-green-500/10 px-3 py-1 rounded-full",children:"Precio Online"})]})]}),e.jsxs("div",{className:"flex gap-4 overflow-x-auto pb-2 scrollbar-hide",children:[e.jsxs("div",{className:"flex items-center gap-2 bg-slate-100 dark:bg-slate-800 px-4 py-2 rounded-full text-xs font-bold text-slate-600 dark:text-slate-300 whitespace-nowrap",children:[e.jsx(M,{size:16,className:"text-emerald-500"})," Garantía Incluida"]}),e.jsxs("div",{className:"flex items-center gap-2 bg-slate-100 dark:bg-slate-800 px-4 py-2 rounded-full text-xs font-bold text-slate-600 dark:text-slate-300 whitespace-nowrap",children:[e.jsx(E,{size:16,className:"text-amber-500"})," Entrega Rápida"]})]}),e.jsx("div",{className:"h-px bg-slate-200 dark:bg-slate-800"}),e.jsx(J,{vehicleId:t.id,vehiclePrice:t.price,vehicleName:t.name,vehicleImage:t.img})]})]})]})};export{te as default};
